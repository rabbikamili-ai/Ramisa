<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>For Ramisa — a surprise from Millu</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#ff6b81;--accent2:#ff9f43}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans Bengali',sans-serif;background:linear-gradient(180deg,#071020 0%, #071a2a 60%);color:#fff}
    .center{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
    .stage{width:100%;max-width:760px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));border-radius:18px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,.6);position:relative;overflow:hidden}

    /* decorative hearts flying */
    .heart{position:absolute;left:50%;top:20%;transform:translate(-50%,-50%);pointer-events:none}
    .heart i{position:absolute;font-size:20px;opacity:0.95}

    /* open button */
    .openWrap{display:flex;flex-direction:column;align-items:center;gap:14px}
    .title{font-size:20px;font-weight:600}
    .openBtn{background:linear-gradient(90deg,var(--accent),var(--accent2));border:none;padding:12px 22px;border-radius:999px;font-weight:700;color:#08101a;cursor:pointer;box-shadow:0 8px 22px rgba(255,111,140,.18);transition:transform .18s}
    .openBtn:active{transform:scale(.98)}
    .subtitle{font-size:13px;opacity:.9}

    /* message card */
    .message{display:none;padding:18px;border-radius:12px;background:rgba(255,255,255,0.02);backdrop-filter:blur(4px);margin-top:18px}
    .message h1{margin:0 0 8px 0;font-size:20px;color:var(--accent)}
    .message p{line-height:1.6;font-size:15px;margin:0}

    /* typewriter reveal */
    .typed{white-space:pre-wrap;display:inline-block;font-family:inherit}
    .cursor{display:inline-block;width:2px;background:#fff;margin-left:4px;animation:blink .9s infinite}
    @keyframes blink{50%{opacity:.1}}

    /* confetti */
    .confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}
    .confetti span{position:absolute;width:10px;height:16px;opacity:0;transform-origin:center;animation:fall 1500ms linear forwards}
    @keyframes fall{0%{opacity:1;transform:translateY(-20vh) rotate(0)}100%{opacity:1;transform:translateY(120vh) rotate(540deg)}}

    /* small footer */
    .foot{font-size:12px;opacity:.75;margin-top:12px;text-align:center}

    /* responsive */
    @media (max-width:520px){.stage{padding:18px}.title{font-size:18px}.openBtn{padding:10px 16px}}
  </style>
</head>
<body>
  <div class="center">
    <div class="stage" id="stage">

      <div class="heart" id="heartLayer"></div>

      <div class="openWrap" id="openWrap">
        <div class="title">Ramisa — special message from Millu</div>
        <button class="openBtn" id="openBtn">Open Surprise ❤️</button>
        <div class="subtitle">Click korle music shuru hobe, animation thakbe &amp; message khub surprise vabe asbe.</div>
      </div>

      <div class="message" id="messageCard" aria-hidden="true">
        <h1>You're not just my sis — you're a part of my soul.</h1>
        <p id="typedText"><span class="typed" id="typed"></span><span class="cursor"></span></p>
      </div>

      <div class="confetti" id="confetti"></div>
      <div class="foot">From: <strong>Millu</strong> — To: <strong>Ramisa</strong></div>

      <!-- hidden audio (replace src with your mp3 or keep the example) -->
      <audio id="bgMusic" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2021/09/23/audio_c6b6e8fef6.mp3?filename=akingmarsh-country-acoustic-119191.mp3" type="audio/mpeg">
        <!-- Replace above URL with your preferred MP3 file. Autoplay may be blocked until user interacts. -->
      </audio>

    </div>
  </div>

  <script>
    // message text (you already gave this). Keep as-is; edit here to change words.
    const fullMessage = `You\u2019re not just my sis — you\u2019re a part of my soul. No matter how much time passes or how far life takes us, nothing can change what you mean to me. You\u2019ve seen me at my worst and still stayed, believed in me when I couldn\u2019t believe in myself. You\u2019re my safe place, my laughter, and my peace. I\'m endlessly grateful for you — for every memory, every late-night talk, and every moment you made me feel less alone.`;

    const openBtn = document.getElementById('openBtn');
    const messageCard = document.getElementById('messageCard');
    const typedEl = document.getElementById('typed');
    const music = document.getElementById('bgMusic');
    const stage = document.getElementById('stage');
    const confetti = document.getElementById('confetti');
    const heartLayer = document.getElementById('heartLayer');

    // small helper: create floating hearts
    function spawnHearts(){
      for(let i=0;i<10;i++){
        const el = document.createElement('i');
        el.textContent = '❤';
        const x = Math.random()*90; // percent
        const y = Math.random()*40;
        el.style.left = x+'%';
        el.style.top = y+'%';
        el.style.fontSize = (12 + Math.random()*28) + 'px';
        el.style.opacity = (0.5 + Math.random()*0.6);
        el.style.transform = `translate(-50%,-50%) scale(${0.6+Math.random()*1.2})`;
        el.style.transition = `transform ${3+Math.random()*3}s ease-out, top ${3+Math.random()*3}s ease-out, opacity 3s`;
        heartLayer.appendChild(el);
        // float up then fade
        setTimeout(()=>{
          el.style.top = (y - (10+Math.random()*30)) + '%';
          el.style.opacity = 0;
        }, 50 + Math.random()*400);
        // remove later
        setTimeout(()=> el.remove(), 7000+Math.random()*2000);
      }
    }

    // confetti generator
    function burstConfetti(){
      const count = 28;
      for(let i=0;i<count;i++){
        const s = document.createElement('span');
        s.style.left = (5 + Math.random()*90) + '%';
        s.style.top = (-10 - Math.random()*20) + '%';
        s.style.width = (6 + Math.random()*10) + 'px';
        s.style.height = (8 + Math.random()*14) + 'px';
        s.style.background = `linear-gradient(45deg, ${randomColor()}, ${randomColor()})`;
        s.style.animationDelay = (Math.random()*400) + 'ms';
        confetti.appendChild(s);
        setTimeout(()=> s.remove(), 2200);
      }
    }
    function randomColor(){
      const palette = ['#ff6b81','#ff9f43','#ffd166','#6ee7b7','#7dd3fc','#c084fc'];
      return palette[Math.floor(Math.random()*palette.length)];
    }

    // typewriter effect
    function typeWriter(text, el, speed=20){
      el.textContent = '';
      let i=0;
      return new Promise(resolve=>{
        const t = setInterval(()=>{
          el.textContent += text.charAt(i);
          i++;
          if(i>=text.length){ clearInterval(t); resolve(); }
        }, speed);
      });
    }

    // main open handler
    openBtn.addEventListener('click', async function(){
      // small pulse animation on button
      openBtn.disabled = true;
      openBtn.textContent = 'Opening...';

      // spawn hearts + confetti repeatedly for a few seconds
      spawnHearts(); spawnHearts();
      const int = setInterval(spawnHearts, 900);
      burstConfetti();

      // show message card
      messageCard.style.display = 'block';
      messageCard.setAttribute('aria-hidden', 'false');

      // start music (must be a user gesture so allowed in most browsers)
      try{ music.currentTime = 0; await music.play(); }catch(e){ /* autoplay blocked */ }

      // type the message
      await typeWriter(fullMessage, typedEl, 12);

      // final confetti + hearts
      burstConfetti();
      setTimeout(()=>{ clearInterval(int); openBtn.style.display='none'; }, 800);
    });

    // make the whole stage clickable (small easter egg)
    stage.addEventListener('dblclick', ()=>{burstConfetti(); spawnHearts();});

    // accessibility: let Enter/Space open
    openBtn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') openBtn.click(); });
  </script>
</body>
</html>
